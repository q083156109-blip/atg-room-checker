<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ATG æˆ°ç¥è³½ç‰¹ï½œåˆ†æå¸«ç³»çµ±</title>

<style>
body{
  margin:0;
  background:#050b0f;
  font-family:-apple-system,BlinkMacSystemFont;
  color:#eafff6;
}
.container{
  max-width:440px;
  margin:auto;
  padding:20px;
}
.title{
  text-align:center;
  font-size:22px;
  color:#3cffc3;
  margin-bottom:20px;
}
.label{
  margin-top:14px;
  font-size:14px;
  color:#ff4fd8;
}
input,select,textarea{
  width:100%;
  padding:12px;
  margin-top:6px;
  background:#0b1c18;
  border:1px solid #2fffd2;
  color:#eafff6;
  border-radius:8px;
  font-size:16px;
}
.row{
  display:flex;
  gap:10px;
}
button{
  width:100%;
  margin-top:22px;
  padding:14px;
  font-size:18px;
  background:#2fffd2;
  color:#002b1f;
  border:none;
  border-radius:10px;
  font-weight:bold;
}
.result{
  margin-top:14px;
  padding:14px;
  border-radius:10px;
  font-size:15px;
}
.ok{background:#123f2f;color:#3cffc3;}
.wait{background:#3a2f12;color:#ffd36a;}
.bad{background:#3a1212;color:#ff6b6b;}
.risk-low{opacity:1}
.risk-mid{opacity:.9}
.risk-high{opacity:.8}
</style>
</head>

<body>
<div class="container">

<div class="title">ğŸ° ATG æˆ°ç¥è³½ç‰¹ï½œåˆ†æå¸«ç³»çµ±</div>

<div class="label">å¾—åˆ†ç‡</div>
<div class="row">
  <input id="today" placeholder="ä»Šæ—¥å¾—åˆ†ç‡ï¼ˆ118%ï¼‰">
  <input id="d30" placeholder="30æ—¥å¾—åˆ†ç‡ï¼ˆ96%ï¼‰">
</div>
<div class="row">
  <input id="p1" placeholder="å‰ä¸€å¾—åˆ†ç‡ï¼ˆ88%ï¼‰">
  <input id="p2" placeholder="å‰äºŒå¾—åˆ†ç‡ï¼ˆ82%ï¼‰">
</div>

<div class="label">æœªé–‹è½‰æ•¸</div>
<input id="spin" placeholder="ä¾‹ï¼š150">

<div class="label">æ¡Œè™Ÿï¼ˆå¯å¤šæ¡Œï¼‰</div>
<textarea id="tables" rows="3" placeholder="007,011,046 æˆ–ä¸€è¡Œä¸€æ¡Œ"></textarea>

<button onclick="analyze()">é–‹å§‹åˆ†æ</button>

<div id="result"></div>

</div>

<script>
function num(v){
  return parseFloat(v.replace("%","").trim());
}

function analyze(){
  const today = num(document.getElementById("today").value);
  const d30   = num(document.getElementById("d30").value);
  const p1    = num(document.getElementById("p1").value);
  const p2    = num(document.getElementById("p2").value);
  const spin  = parseInt(document.getElementById("spin").value);
  const tablesText = document.getElementById("tables").value;
  const box = document.getElementById("result");
  box.innerHTML = "";

  if([today,d30,p1,p2,spin].some(isNaN) || !tablesText){
    box.innerHTML="<div class='result bad'>âš ï¸ åˆ†æå¸«æé†’ï¼šè³‡æ–™æœªå¡«å®Œæ•´</div>";
    return;
  }

  const tables = tablesText
    .split(/[\n,]+/)
    .map(t=>t.trim())
    .filter(t=>t);

  let results = [];

  tables.forEach(table=>{
    let score = 0;
    let result="âŒ ä¸å»ºè­°", cls="bad";
    let risk="ğŸ”´ é«˜é¢¨éšª", riskCls="risk-high";

    // è©•åˆ†é‚è¼¯ï¼ˆåˆ†æå¸«ï¼‰
    if(today>=115) score+=2;
    if(d30>=95) score+=2;
    if(spin>=150) score+=2;
    if(p1<=95) score+=1;
    if(p2<=95) score+=1;

    if(score>=7){
      result="âœ… å¯é€²";
      cls="ok";
      risk="ğŸŸ¢ ä½é¢¨éšª";
      riskCls="risk-low";
    }else if(score>=5){
      result="âš ï¸ è§€å¯Ÿ";
      cls="wait";
      risk="ğŸŸ¡ ä¸­é¢¨éšª";
      riskCls="risk-mid";
    }

    results.push({
      table, score, cls, result, risk, riskCls
    });
  });

  // è‡ªå‹•æ’åºï¼ˆåˆ†æ•¸é«˜çš„åœ¨ä¸Šï¼‰
  results.sort((a,b)=>b.score-a.score);

  results.forEach(r=>{
    const div=document.createElement("div");
    div.className=`result ${r.cls} ${r.riskCls}`;
    div.innerHTML=`
      æ¡Œè™Ÿ <b>${r.table}</b><br>
      åˆ†æçµæœï¼š<b>${r.result}</b><br>
      é¢¨éšªç­‰ç´šï¼š<b>${r.risk}</b>
    `;
    box.appendChild(div);
  });
}
</script>

</body>
</html>
